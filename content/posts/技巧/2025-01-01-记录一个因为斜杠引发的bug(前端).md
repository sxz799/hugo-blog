---
title: "记录一个因为斜杠引发的bug(前端)"
date: 2025-01-01T21:54:07+08:00
lastmod: 2025-01-01T21:54:07+08:00
draft: true
tags:
- vue3
- bug
categories:
- 技巧
---

记录一个因为斜杠引发的bug
<!--more-->

### 起因

刷抖音时刷到`axios的baseURL`和vite.config.ts中的`base`的区别。

baseURL:axios的请求前缀

base:打包时资源的路径前缀(''和/是不一样的哦)

```js
const request = axios.create({
    // axios中请求配置有baseURL选项，表示请求URL公共部分
    baseURL: import.meta.env.VITE_BASE_URL,
    // 超时
    timeout: 10000
})
```

```js
base: env.VITE_BASE_PATH,
        server: {
            port: 5173,
            proxy: {
                '/dev-api': {
                    target: 'http://localhost:65534',
                    changeOrigin: true,
                    rewrite: (path) => path.replace(/^\/dev-api/, '')
                }
            }
        },
```

就想着把最近做的两个项目优化一下。golang做的后端,由于项目比较小，就用到了embed技术，打包成一个文件。之前打包时需要再makefile中去修改vite.config.ts文件,感觉不太优雅,就想着改成配置文件的方式。第一个项目改起来效果很好，功能都正常。但是第二个项目就出问题了。

### bug表现

部分接口会出现跨域错误。

补图



### 修复方式

在有问题的接口后面加`/`

### 原因解析

待补充